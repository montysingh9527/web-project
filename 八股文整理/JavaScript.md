##  åŸºç¡€é¢˜ï¼ˆå˜é‡ã€ç±»å‹ã€ä½œç”¨åŸŸï¼‰

1. ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾ï¼Ÿ
2. ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿä¸¾ä¸€ä¸ªä½¿ç”¨åœºæ™¯ã€‚
3. `typeof null` æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
4. åŸå§‹ç±»å‹æœ‰å“ªäº›ï¼Ÿå¼•ç”¨ç±»å‹æœ‰å“ªäº›ï¼Ÿ
5. ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼ˆhoistingï¼‰ï¼Ÿ
6. `this` çš„æŒ‡å‘åœ¨ä¸åŒåœºæ™¯ä¸‹æ˜¯æ€æ ·çš„ï¼Ÿ

------

## ğŸŸ¡ è¿›é˜¶é¢˜ï¼ˆå‡½æ•°ã€å¯¹è±¡ã€åŸå‹ã€å¼‚æ­¥ï¼‰

1. å¦‚ä½•å®ç°ä¸€ä¸ªé˜²æŠ–ï¼ˆdebounceï¼‰å‡½æ•°ï¼Ÿ
2. å¦‚ä½•å®ç°ä¸€ä¸ªèŠ‚æµï¼ˆthrottleï¼‰å‡½æ•°ï¼Ÿ
3. è§£é‡Š JavaScript çš„åŸå‹é“¾æœºåˆ¶ã€‚
4. `new` è¿ç®—ç¬¦çš„å†…éƒ¨å®ç°è¿‡ç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ
5. `Object.create(null)` å’Œ `{}` æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
6. setTimeout(fn, 0) æ˜¯ç«‹åˆ»æ‰§è¡Œå—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
7. å¦‚ä½•å®ç°æ·±æ‹·è´ï¼Ÿæµ…æ‹·è´æœ‰å“ªäº›æ–¹å¼ï¼Ÿ
8. `Promise` æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿæ‰‹å†™ä¸€ä¸ªç®€å•çš„ Promiseã€‚

------

## ğŸ”µ é«˜çº§é¢˜ï¼ˆå¼‚æ­¥ã€æ€§èƒ½ã€ES6+ã€è®¾è®¡æ¨¡å¼ï¼‰

1. async/await æœ¬è´¨ä¸Šæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ
2. ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ï¼Ÿ
3. ä»€ä¹ˆæ˜¯å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡ï¼Ÿæœ‰å“ªäº›åŒºåˆ«ï¼Ÿ
4. å¦‚ä½•å®ç°å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰ï¼Ÿ
5. å¦‚ä½•æ‰‹å†™ä¸€ä¸ª LRU ç¼“å­˜ï¼Ÿ
6. ES6+ æœ‰å“ªäº›ä½ å¸¸ç”¨çš„æ–°ç‰¹æ€§ï¼Ÿ
7. å¦‚ä½•è®©ä¸€ä¸ªå¯¹è±¡å˜æˆä¸å¯å˜å¯¹è±¡ï¼ˆimmutableï¼‰ï¼Ÿ
8. ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿä»‹ç»ä¸‹ ES6 æ¨¡å—å’Œ CommonJS çš„åŒºåˆ«ã€‚

------

## ğŸ”´ æ‰‹å†™é¢˜ç²¾é€‰ï¼ˆæœ€å¸¸é—®ï¼‰

1. å®ç° `deepClone` å‡½æ•°
2. å®ç° `instanceof`
3. å®ç° `call` / `apply` / `bind`
4. å®ç° `Promise.all` / `Promise.race`
5. å®ç°ä¸€ä¸ª `currying` å‡½æ•°
6. å®ç° `new` çš„è¡Œä¸º
7. æ•°ç»„æ‰å¹³åŒ–ï¼ˆflatï¼‰
8. æ‰‹å†™é˜²æŠ– / èŠ‚æµ







---

#### varã€letã€constæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

> é»˜è®¤ä½¿ç”¨ `const`ï¼ˆä¿è¯ä¸å˜æ€§ï¼Œä»£ç æ›´å®‰å…¨ï¼‰ã€‚
>
> éœ€è¦é‡æ–°èµ‹å€¼æ—¶ä½¿ç”¨ `let`ã€‚
>
> é¿å…ä½¿ç”¨ `var`

- **1ã€ä½œç”¨åŸŸï¼ˆScopeï¼‰**

  - `var`ï¼š**å‡½æ•°ä½œç”¨åŸŸ**

    - å¦‚æœåœ¨å‡½æ•°å¤–ä½¿ç”¨ `var` å£°æ˜ï¼Œåˆ™å®ƒæ˜¯**å…¨å±€å˜é‡**ã€‚
    - åœ¨å—ï¼ˆå¦‚ `if`ã€`for`ï¼‰ä¸­å£°æ˜çš„ `var` ä¼šâ€œæ¼å‡ºâ€åˆ°å¤–éƒ¨ä½œç”¨åŸŸã€‚

  - `let` å’Œ `const`ï¼š**å—çº§ä½œç”¨åŸŸ**

    - åœ¨ `{}` å†…éƒ¨å£°æ˜çš„å˜é‡åªåœ¨è¯¥å—ä¸­æœ‰æ•ˆã€‚

    ```
    if (true) {
      var a = 1;
      let b = 2;
      const c = 3;
    }
    console.log(a); // âœ… 1
    console.log(b); // âŒ ReferenceError
    console.log(c); // âŒ ReferenceError
    ```

- **2ã€å˜é‡æå‡ï¼ˆHoistingï¼‰**

  - `var`ï¼šä¼šæå‡åˆ°**å‡½æ•°é¡¶éƒ¨**ï¼Œä½†å€¼ä¸ä¼šæå‡ã€‚
  - `let` / `const`ï¼šä¹Ÿä¼šæå‡ï¼Œä½†ä¼šè¿›å…¥**â€œæš‚æ—¶æ€§æ­»åŒºâ€ï¼ˆTDZï¼‰**ï¼Œåœ¨å®é™…å£°æ˜ä¹‹å‰è®¿é—®ä¼šæŠ¥é”™ã€‚

  ```
  console.log(x); // undefinedï¼ˆå› ä¸º var æå‡ï¼‰
  var x = 10;
  
  console.log(y); // âŒ ReferenceErrorï¼ˆlet æœ‰æš‚æ—¶æ€§æ­»åŒºï¼‰
  let y = 20;
  ```

- **3ã€æ˜¯å¦å…è®¸é‡å¤å£°æ˜**

  - `var`ï¼šå…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸå†…é‡å¤å£°æ˜ã€‚
  - `let` / `const`ï¼šä¸å…è®¸é‡å¤å£°æ˜åŒåå˜é‡ã€‚

  ```
  var a = 1;
  var a = 2; // âœ… æ²¡é—®é¢˜
  
  let b = 1;
  let b = 2; // âŒ SyntaxError
  
  const c = 1;
  const c = 2; // âŒ SyntaxError
  ```

- **4ã€æ˜¯å¦å…è®¸ä¿®æ”¹å€¼**

  - `var` / `let`ï¼šå¯ä»¥é‡æ–°èµ‹å€¼ã€‚
  - `const`ï¼š**ä¸èƒ½é‡æ–°èµ‹å€¼**ï¼ˆä½†å¦‚æœæ˜¯å¯¹è±¡ï¼Œå¯ä»¥ä¿®æ”¹å…¶å±æ€§ï¼‰ã€‚

  ```
  let x = 1;
  x = 2; // âœ…
  
  const y = 3;
  y = 4; // âŒ TypeError
  
  const obj = { a: 1 };
  obj.a = 2; // âœ… ä¿®æ”¹å±æ€§æ²¡é—®é¢˜
  ```

##### âœ… æ€»ç»“å»ºè®®ï¼š

| ç‰¹æ€§       | `var`      | `let`      | `const`        |
| ---------- | ---------- | ---------- | -------------- |
| ä½œç”¨åŸŸ     | å‡½æ•°ä½œç”¨åŸŸ | å—çº§ä½œç”¨åŸŸ | å—çº§ä½œç”¨åŸŸ     |
| æå‡       | æœ‰         | æœ‰ï¼ˆTDZï¼‰  | æœ‰ï¼ˆTDZï¼‰      |
| å¯é‡å¤å£°æ˜ | æ˜¯         | å¦         | å¦             |
| å¯ä¿®æ”¹å€¼   | æ˜¯         | æ˜¯         | å¦ï¼ˆå€¼ä¸å¯å˜ï¼‰ |

---

#### ==` å’Œ `===` æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

> æ€»æ˜¯ä¼˜å…ˆä½¿ç”¨ `===`ï¼Œé™¤éä½ **æ˜ç¡®çŸ¥é“**ä¸ºä»€ä¹ˆè¦ç”¨ `==`

- `==` ç­‰äºï¼ˆå®½æ¾ç­‰äºï¼‰

  - åœ¨æ¯”è¾ƒå‰ä¼šè¿›è¡Œ**ç±»å‹è½¬æ¢ï¼ˆtype coercionï¼‰**ï¼Œå°è¯•å°†ä¸åŒç±»å‹çš„å€¼è½¬æ¢æˆç›¸åŒç±»å‹å†æ¯”è¾ƒ

  ```
  0 == '0'        // trueï¼Œå› ä¸º '0' è½¬æˆäº†æ•°å­— 0
  false == 0      // trueï¼Œå› ä¸º false è½¬æˆäº†æ•°å­— 0
  null == undefined // trueï¼Œä¸¤ä¸ªç‰¹æ®Šå€¼è¢«è®¤ä¸ºç›¸ç­‰
  ' \t\n' == 0    // trueï¼Œç©ºç™½å­—ç¬¦ä¸²è½¬æ¢ä¸º 0
  ```

- `===`ï¼ˆä¸¥æ ¼ç­‰äº / ä¸¥æ ¼ç›¸ç­‰ï¼‰

  - **ä¸è¿›è¡Œç±»å‹è½¬æ¢**ï¼Œåªæœ‰**ç±»å‹å’Œå€¼éƒ½ç›¸åŒ**æ—¶æ‰ä¸º `true`ã€‚
  - æ¨èä½¿ç”¨ï¼Œèƒ½é¿å…è®¸å¤šéšè—çš„ bugã€‚

  ```
  0 === '0'       // falseï¼Œä¸åŒç±»å‹
  false === 0     // falseï¼Œä¸åŒç±»å‹
  null === undefined // falseï¼Œä¸åŒç±»å‹
  ' \t\n' === 0   // falseï¼Œä¸åŒç±»å‹
  ```

---

#### ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾ï¼Ÿ

- **ä½œç”¨åŸŸç±»å‹**
  - å…¨å±€ä½œç”¨åŸŸï¼šåœ¨ä»»ä½•å‡½æ•°ä¹‹å¤–å£°æ˜çš„å˜é‡ï¼Œæ•´ä¸ªè„šæœ¬éƒ½èƒ½è®¿é—®
  - å‡½æ•°ä½œç”¨åŸŸï¼š `var` å…·æœ‰å‡½æ•°ä½œç”¨åŸŸ
  - å—çº§ä½œç”¨åŸŸï¼šä½¿ç”¨ `let` å’Œ `const` å£°æ˜çš„å˜é‡ï¼Œåœ¨ `{}` å†…éƒ¨æœ‰æ•ˆï¼ˆå¦‚ ifã€for å—ç­‰ï¼‰

- **ä½œç”¨åŸŸé“¾** ï¼ˆå˜é‡æŸ¥æ‰¾æœºåˆ¶ï¼‰

  å½“ JavaScript å¼•æ“åœ¨æŸä¸ªä½œç”¨åŸŸå†…æŸ¥æ‰¾å˜é‡æ—¶ï¼š

  1. å…ˆåœ¨å½“å‰ä½œç”¨åŸŸæŸ¥æ‰¾ï¼›
  2. æ‰¾ä¸åˆ°å°±å»â€œä¸Šä¸€å±‚â€ä½œç”¨åŸŸæŸ¥æ‰¾ï¼›
  3. ä¸€ç›´å‘ä¸ŠæŸ¥åˆ°å…¨å±€ä½œç”¨åŸŸï¼›
  4. å¦‚æœä»æ‰¾ä¸åˆ°ï¼ŒæŠ¥é”™ï¼š`ReferenceError`ã€‚







































---

#### é˜²æŠ–ï¼ˆdebounceï¼‰ å’Œ èŠ‚æµï¼ˆthrottleï¼‰ 

- **èŠ‚æµ**: n ç§’å†…åªè¿è¡Œä¸€æ¬¡ï¼Œè‹¥åœ¨ n ç§’å†…é‡å¤è§¦å‘ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆã€‚ï¼ˆinputè¾“å…¥æ¡†ä¸€ç›´è¾“å…¥æ–‡å­—ï¼Œåœ¨nç§’å†…è§¦å‘ä¸€æ¬¡ï¼Œè¿‡nç§’åå†æ¬¡è§¦å‘ï¼‰ã€‚èŠ‚æµå‡½æ•°ä¼šæŒ‰ç…§ä¸€å®šçš„é¢‘ç‡æ¥æ‰§è¡Œå‡½æ•°ã€‚
- **é˜²æŠ–**: n ç§’ååœ¨æ‰§è¡Œè¯¥äº‹ä»¶ï¼Œè‹¥åœ¨ n ç§’å†…è¢«é‡å¤è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ã€‚ï¼ˆinputè¾“å…¥æ¡†ä¸€ç›´è¾“å…¥æ–‡å­—ï¼Œåœ¨åœæ­¢è¾“å…¥åï¼Œnç§’è§¦å‘ä¸€æ¬¡ï¼‰ã€‚å½“äº‹ä»¶è§¦å‘æ—¶ï¼Œç›¸åº”çš„å‡½æ•°å¹¶ä¸ä¼šç«‹å³è§¦å‘ï¼Œè€Œæ˜¯ä¼šç­‰å¾…ä¸€å®šçš„æ—¶é—´ã€‚

###### åº”ç”¨åœºæ™¯ï¼š
```
å‚è€ƒåœ°å€ï¼ˆé™„å¸¦æ¼”ç¤ºï¼‰ï¼šhttps://segmentfault.com/a/1190000041716880
é˜²æŠ–åœ¨è¿ç»­çš„äº‹ä»¶ï¼Œåªéœ€è§¦å‘ä¸€æ¬¡å›è°ƒçš„åœºæ™¯æœ‰ï¼š
    æœç´¢æ¡†æœç´¢è¾“å…¥ã€‚åªéœ€ç”¨æˆ·æœ€åä¸€æ¬¡è¾“å…¥å®Œï¼Œå†å‘é€è¯·æ±‚
    æ‰‹æœºå·ã€é‚®ç®±éªŒè¯è¾“å…¥æ£€æµ‹
    çª—å£å¤§å°resizeã€‚åªéœ€çª—å£è°ƒæ•´å®Œæˆåï¼Œè®¡ç®—çª—å£å¤§å°ã€‚é˜²æ­¢é‡å¤æ¸²æŸ“ã€‚

èŠ‚æµåœ¨é—´éš”ä¸€æ®µæ—¶é—´æ‰§è¡Œä¸€æ¬¡å›è°ƒçš„åœºæ™¯æœ‰ï¼š
    æ»šåŠ¨åŠ è½½ï¼ŒåŠ è½½æ›´å¤šæˆ–æ»šåˆ°åº•éƒ¨ç›‘å¬
    æœç´¢æ¡†ï¼Œæœç´¢è”æƒ³åŠŸèƒ½
```

---

#### é—­åŒ…

> åœ¨ä¸€ä¸ªå†…å±‚å‡½æ•°ä¸­è®¿é—®åˆ°å…¶å¤–å±‚å‡½æ•°çš„ä½œç”¨åŸŸ

- **ç‰¹ç‚¹**ï¼š 
  - å‡½æ•°åµŒå¥—å‡½æ•°
  - å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡
  - å¤–éƒ¨å‡½æ•°æ‰§è¡Œåï¼Œå˜é‡ä»è¢«å†…éƒ¨å‡½æ•°æŒæœ‰ï¼Œä¸è¢« GC å›æ”¶

```
function createCounter() {
  let count = 0;  // åˆ›å»ºçš„å±€éƒ¨å˜é‡
  return function () {  // æ˜¯å†…éƒ¨å‡½æ•°ï¼Œä¸€ä¸ªé—­åŒ…
    count++;         // ä½¿ç”¨äº†çˆ¶å‡½æ•°ä¸­å£°æ˜çš„å˜é‡
    return count;
  };
}

const counter = createCounter();
console.log(counter()); // è¾“å‡ºï¼š1
console.log(counter()); // è¾“å‡ºï¼š2
```

| ç”¨é€”           | ç¤ºä¾‹                                    |
| -------------- | --------------------------------------- |
| **æ•°æ®ç§æœ‰åŒ–** | ä¸Šé¢çš„ `count` å°±æ˜¯ç§æœ‰çš„ï¼Œå¤–éƒ¨è®¿é—®ä¸äº† |
| **å‡½æ•°å·¥å‚**   | æ ¹æ®å‚æ•°ç”Ÿæˆâ€œå®šåˆ¶åŒ–â€å‡½æ•°                |
| **ä¿æŒçŠ¶æ€**   | è®°ä½ä¸Šä¸€æ¬¡è°ƒç”¨çš„ç»“æœ                    |
| **æ¨¡æ‹Ÿå°è£…**   | ç±»ä¼¼äºé¢å‘å¯¹è±¡çš„å°è£…æ€æƒ³                |

**å¸¸è§è¯¯åŒºï¼ˆfor å¾ªç¯é—­åŒ…é—®é¢˜ï¼‰ï¼š**

```
for (var i = 0; i < 3; i++) {
  setTimeout(() => {
    console.log(i); // è¾“å‡º 3ï¼Œ3ï¼Œ3
  }, 1000);
}
```

å› ä¸º `var` æ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œæ‰€æœ‰ `setTimeout` é‡Œçš„å‡½æ•°â€œå…±äº«â€ä¸€ä¸ª `i`ã€‚

âœ… ä¿®å¤æ–¹å¼ï¼šä½¿ç”¨ `let` å—çº§ä½œç”¨åŸŸ æˆ– é—­åŒ…

- `let` ä¼šåœ¨æ¯æ¬¡å¾ªç¯ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ `i`
- æ¯ä¸ªå›è°ƒå‡½æ•°é—­åŒ…ç»‘å®šçš„æ˜¯**è‡ªå·±çš„ i**

```
for (let i = 0; i < 3; i++) {
  setTimeout(function () {
    console.log(i);   // è¾“å‡ºï¼š0 1 2
  }, 1000);
}
```

âœ… æ–¹æ³•äºŒï¼šç”¨ IIFEï¼ˆç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼‰åˆ›å»ºé—­åŒ…

- æ¯æ¬¡å¾ªç¯æŠŠå½“å‰ `i` çš„å€¼ä¼ è¿›å»
- `j` æˆä¸ºæ¯ä¸ªé—­åŒ…è‡ªå·±çš„ç§æœ‰å˜é‡

```
for (var i = 0; i < 3; i++) {
  (function (j) {
    setTimeout(function () {
      console.log(j);   // è¾“å‡ºï¼š0 1 2
    }, 1000);
  })(i);
}
```

---

#### æ·±æ‹·è´å’Œæµ…æ‹·è´

>  æµ…æ‹·è´åªå¤åˆ¶å¼•ç”¨ï¼ŒåµŒå¥—å¯¹è±¡ä¼šâ€œè”åŠ¨â€ï¼›æ·±æ‹·è´æ˜¯å½»åº•å¤åˆ¶ï¼Œäº’ä¸å½±å“ã€‚

- **æµ…æ‹·è´**ï¼šå¤åˆ¶å¯¹è±¡çš„**ç¬¬ä¸€å±‚å±æ€§å€¼**ï¼Œ**åµŒå¥—å¯¹è±¡ä»æ˜¯å…±äº«å¼•ç”¨**
  - `Object.assign()` ï¼šåˆå¹¶å¯¹è±¡ï¼Œæµ…æ‹·è´
  - `å±•å¼€è¿ç®—ç¬¦ {...obj}` ï¼šæ‹·è´ç¬¬ä¸€å±‚å±æ€§
  - `Array.prototype.slice()`ï¼š æ•°ç»„æµ…æ‹·è´
- **æ·±æ‹·è´**ï¼šé€’å½’åœ°å¤åˆ¶æ‰€æœ‰å±‚çº§çš„å±æ€§ï¼Œ**å®Œå…¨ç‹¬ç«‹çš„å‰¯æœ¬**
  - `JSON.parse(JSON.stringify(obj))`ï¼šä¼šä¸¢å¤±å‡½æ•°ã€`undefined`ã€å¾ªç¯å¼•ç”¨
  - `ä½¿ç”¨ lodash.cloneDeep()`ï¼š é€‚ç”¨äºå¤æ‚å¯¹è±¡
  - `æ‰‹å†™é€’å½’å‡½æ•°`ï¼š çµæ´»ï¼Œä½†æ˜“å‡ºé”™
  - `structuredClone(obj)`ï¼šæ”¯æŒ Mapã€Setã€å¾ªç¯å¼•ç”¨ç­‰

```
const original = {
  name: 'Alice',
  info: { age: 25 }
};

// æµ…æ‹·è´
const shallowCopy = { ...original };
shallowCopy.info.age = 30;

console.log(original.info.age); // â—ï¸å˜æˆäº† 30ï¼ˆå…±äº«å¼•ç”¨ï¼‰

// æ·±æ‹·è´
const deepCopy = JSON.parse(JSON.stringify(original));
deepCopy.info.age = 40;

console.log(original.info.age); // âœ… ä»ç„¶æ˜¯ 30ï¼Œä¸å—å½±å“
```

##### ç®€å•çš„æµ…æ‹·è´

```
function shallowClone(source) {
    var target = {};
    for(var i in source) {
        if (source.hasOwnProperty(i)) {
            target[i] = source[i];
        }
    }
    return target;
}
```

##### ç®€å•çš„æ·±æ‹·è´ï¼ˆä¸è§£å†³æ ˆæº¢å‡ºé—®é¢˜ï¼‰

```
function deepClone(obj) {
  if (obj === null || typeof obj !== 'object') return obj;
  const clone = Array.isArray(obj) ? [] : {};
  for (const key in obj) {
    if (obj.hasOwnProperty(key)) {
      const value = obj[key];
      clone[key] = (typeof value === 'object' && value !== null)
        ? deepClone(value)
        : value;
    }
  }
  return clone;
}
```

---















