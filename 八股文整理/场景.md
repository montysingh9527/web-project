#### 问题：性能优化做了什么？

- 打包构建（工程层面）
- 代码（代码层面）
  - 虚拟列表
  - 懒加载
  - 异步加载
  - tree shaking（rollup、webpack、vite【esm】、rspack(rust)）
- 网络（网络层面）
  - http2
  - cdn
  - prefetch、preload

##### 性能指标

- FP（首屏渲染）
- FCP（首次内容渲染）
- FMP（视团队而定）
- LCP（最大内容渲染）
- CLS（布局偏移 Mutation Observer）
- TTI （交互时间）

##### 异常监控

- 异常有那些？
  - 内存溢出
  - 白屏
    - MutaionObserver
  - 资源加载异常
    - img资源
    - font资源
  - js执行异常
    - 异常监听
  - 异步处理异常
    - promise、unhandledrejection
  - 网络异常
    - ajax
    - fetch

---

####  问题： 表格1000w行数据流畅渲染的秘密

- **解决方案**
  - 用库
  - 初级：table dom
  - 中级：虚拟表格
  - 高级：canvas table
  - 专家：canvas + tile技术
  - 高级专家：skia + Webassembly

---

#### 问题： 如果后端返回了10000条数据，其中有图片，在前端渲染的时候，怎么优化图片展示和其它渲染性能？

> 图片采用懒加载的方式（写一个懒加载指令）

- 分页加载 （一页20条数据，滚动到底部在请求下一页数据）
- 虚拟列表
  - 虚拟列表咋实现的
    - 

***

#### 问题：适配黑白两种主题，有那些方法？

- 使用css变量方式 --style 

  ```
  :root {  --bg-color: #ffffff;}
  <body data-theme="dark"> <!-- 切换成 light 或 dark -->
  setAttribute('data-theme', 'dark');
  ```

- 添加css类名

  ```
  给 <body> 或根元素添加一个类，如 dark-theme，然后通过 CSS 或框架样式切换颜色。
  body.dark-theme {  background-color: #000;}
  document.body.classList.toggle('dark-theme');
  ```

---

#### 问题： 如何有一个大视频要上传，这种怎么做？上传中突然断开了，怎么做？

- 断点续传 
  - 上传过程中记录已上传的分页索引或状态，重新上传时跳过已上传的部分
- 分片上传
  - 将视频切成多个小片段（比如每片1MB或者5MB），逐个上传到服务器