#### 问题：性能优化做了什么？

- 打包构建（工程层面）
- 代码（代码层面）
  - 虚拟列表
  - 懒加载
  - 异步加载
  - tree shaking（rollup、webpack、vite【esm】、rspack(rust)）
- 网络（网络层面）
  - http2
  - cdn
  - prefetch、preload

##### 性能指标

- FP（首屏渲染）
- FCP（首次内容渲染）
- FMP（视团队而定）
- LCP（最大内容渲染）
- CLS（布局偏移 Mutation Observer）
- TTI （交互时间）

##### 异常监控

- 异常有那些？
  - 内存溢出
  - 白屏
    - MutaionObserver
  - 资源加载异常
    - img资源
    - font资源
  - js执行异常
    - 异常监听
  - 异步处理异常
    - promise、unhandledrejection
  - 网络异常
    - ajax
    - fetch

---

#### 项目中做过那些优化？

```
使用 Vue Router 的路由懒加载 + Vite 自动代码分割
按需引入 Element Plus 组件，减少打包体积
使用 keep-alive 缓存路由组件，提高页面切换性能
利用 computed 代替部分 watch，避免性能浪费
前端打包使用 gzip 压缩，CDN 加速
图片资源使用 WebP 格式，配合懒加载
配置 ESLint + Prettier + commit 校验，统一团队代码风格
```

- **首屏加载优化**
  - **路由懒加载**（Vue Router 的 `component: () => import(...)`）
  - 组件拆分 + 异步加载
  - **按需引入 UI 组件库**（如 Element Plus、Ant Design Vue）
  - **资源压缩（JS/CSS/Image）**，使用 Vite/Webpack 插件如 `vite-plugin-compression` 或 `image-webpack-loader`
  - CDN 加速静态资源
- **性能监控与体验优化**
  - 使用 `keep-alive` 缓存组件，避免频繁销毁和重建
  - 使用 `computed` 代替 `watch`，避免不必要的副作用触发
  - 使用 `Lighthouse` 分析性能指标（FCP、TTI 等）
  - 使用 **骨架屏**/**loading 状态** 提升感知体验
- **构建优化**
  - 构建工具使用 Vite 或 Webpack 5（Tree Shaking、缓存）
  - 开启 gzip 或 brotli 压缩
  - 拆分 vendor 和业务代码，提高缓存复用
  - 配置浏览器缓存策略（`Cache-Control`, `ETag`）
- **Vue 特有优化技巧**
  - 使用 `v-show` 替代频繁切换的 `v-if`
  - 合理使用 `watch`，避免复杂对象监听造成性能浪费
  - 避免 `v-if` 和 `v-for` 同时使用

---

####  问题： 表格1000w行数据流畅渲染的秘密

- **解决方案**
  - 用库
  - 初级：table dom
  - 中级：虚拟表格
  - 高级：canvas table
  - 专家：canvas + tile技术
  - 高级专家：skia + Webassembly

---

#### 问题： 如果后端返回了10000条数据，其中有图片，在前端渲染的时候，怎么优化图片展示和其它渲染性能？

> 图片采用懒加载的方式（写一个懒加载指令）

- 分页加载 （一页20条数据，滚动到底部在请求下一页数据）
- 虚拟列表
  - 虚拟列表咋实现的
    - 

***

#### 问题：适配黑白两种主题，有那些方法？

- 使用css变量方式 --style 

  ```
  :root {  --bg-color: #ffffff;}
  <body data-theme="dark"> <!-- 切换成 light 或 dark -->
  setAttribute('data-theme', 'dark');
  ```

- 添加css类名

  ```
  给 <body> 或根元素添加一个类，如 dark-theme，然后通过 CSS 或框架样式切换颜色。
  body.dark-theme {  background-color: #000;}
  document.body.classList.toggle('dark-theme');
  ```

---

#### 问题： 如何有一个大视频要上传，这种怎么做？上传中突然断开了，怎么做？

- 断点续传 
  - 上传过程中记录已上传的分页索引或状态，重新上传时跳过已上传的部分
- 分片上传
  - 将视频切成多个小片段（比如每片1MB或者5MB），逐个上传到服务器

---

#### 多个页面切换倒计时如何保持

- 使用 **Pinia（或 Vuex）** 管理倒计时状态